package com.codingdojo.cynthia.controladores;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

//@ anotación
@RestController //Indica que este archivo es un controlador del tipo API REST
@RequestMapping("/usuarios") //Una base para todas las rutas que cree en este archivo
public class ControladorBase {
	
	@GetMapping("/") //Establecemos la ruta a mostrar, NO puede reptirse
	public String home() {
		return "<h1>¡Hola desde Spring!</h1>";
	}
	
	@GetMapping("/despliega")
	public String despliegaUsuarios() {
		String usuarios[] = {"Elena de Troya", "Juana de Arco", "Pablo Picasso"};
		String respuesta = "";
		
		for(int i=0; i<usuarios.length; i++) {
			respuesta += "<h2>"+usuarios[i]+"</h2>";
		}
		
		return respuesta;
		
	}
	
	// /usuarios/hola?nombre=Elena
	@GetMapping("/hola")
	public String hola( @RequestParam(value="nombre", required=false) String name ) {
		if(name == null) {
			return "<h1>¡Hola! </h1>";
		}
		
		return "<h1>¡Hola "+name+"! </h1>";
		
	}
	
	@GetMapping("/saludos")
	public String saludos( @RequestParam(value="nombre") String name, 
						   @RequestParam(value="apellido") String last_name	) {
		return "<h1>Saludos cordiales, "+name+" "+last_name+"</h1>";
	}
	
	
	// /usuarios/saludo
	
}
